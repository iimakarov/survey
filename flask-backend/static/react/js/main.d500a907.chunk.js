(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(9),r=n.n(o),l=(n(94),n(49)),c=n(67),s=n(68),d=n(19),m=n(73),u=n(74),h=n(166),p=n(156),g=n(161),v=n(169),C=n(155),f=n(152),E=n(53),b=n(164),k=n(162),x=n(167);n(36);var y=function(e){var t=e.title,n=e.description,a=e.questionId,o=e.questionValueExpr,r=e.onChangeEvent,l=e.radioOpts,c=e.textInput,s=void 0===c?void 0:c,d=e.checkBoxData,m=void 0===d?void 0:d;return i.a.createElement("div",null,i.a.createElement(f.a,{component:b.a},i.a.createElement(b.a,{p:2,component:C.a},i.a.createElement(E.a,{variant:"h4",align:"left"},t),i.a.createElement(E.a,{variant:"h5",align:"left"},n),void 0!==typeof m&&m.addCheckBox?i.a.createElement("div",{align:"left"},i.a.createElement(p.a,{control:i.a.createElement(x.a,{checked:m.isChecked,onChange:m.onChange,name:a,color:"primary"}),label:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"}),i.a.createElement("br",null)):"",i.a.createElement("label",null,i.a.createElement(v.a,{"aria-label":"radio",name:a,value:o,onChange:r},l)),void 0!==typeof s&&s.hasTextInput?i.a.createElement(k.a,{name:a,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:s.saveComment}):"")),i.a.createElement("br",null))};var O=function(e){var t=e.title,n=e.description;return i.a.createElement(f.a,{component:b.a},i.a.createElement(b.a,{p:2,component:C.a},i.a.createElement(E.a,{variant:"h3",gutterBottom:!0},t),i.a.createElement(E.a,{variant:"h4",gutterBottom:!0},n)))},B=n(168),j=n(160),I=n(158),w=n(159),S=n(157);var F=function(e){var t=e.openState,n=e.closeEvent,a=e.title,o=e.description,r=e.secondDescription,l=e.textFieldData,c=e.buttonOnClick,s=e.buttonText;return i.a.createElement(B.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title"},i.a.createElement(S.a,{id:"form-dialog-title"},a),i.a.createElement(I.a,null,i.a.createElement(w.a,null,o),r&&r.length?i.a.createElement(w.a,null,r):"","undefined"!==typeof l?i.a.createElement(k.a,{autoFocus:!0,margin:"dense",id:l.id,label:l.label,fullWidth:!0,value:l.value,onChange:l.textOnChange,helperText:l.error?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0432\u0432\u043e\u0434":"",error:l.error}):""),i.a.createElement(j.a,null,i.a.createElement(g.a,{onClick:c,color:"primary"},s)))};var U=function(e){var t=e.title,n=e.description,a=e.id,o=e.onCommentChange;return i.a.createElement("div",null,i.a.createElement(f.a,{component:b.a},i.a.createElement(b.a,{p:2,component:C.a},i.a.createElement(E.a,{variant:"h4",align:"left"},t),i.a.createElement(E.a,{variant:"h5",align:"left"},n),i.a.createElement(k.a,{name:a,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:o}))),i.a.createElement("br",null))},D=n(170);var R=function(e){var t=e.title,n=e.description,a=e.questionId,o=e.currentValue,r=e.onChangeEvent,l=e.textInput,c=void 0===l?void 0:l,s=e.checkBoxData,d=void 0===s?void 0:s;return i.a.createElement("div",null,i.a.createElement(f.a,{component:b.a},i.a.createElement(b.a,{p:2,component:C.a},i.a.createElement(E.a,{variant:"h4",align:"left"},t),i.a.createElement(E.a,{variant:"h5",align:"left"},n),void 0!==typeof d&&d.addCheckBox?i.a.createElement("div",{align:"left"},i.a.createElement(p.a,{control:i.a.createElement(x.a,{checked:d.isChecked,onChange:d.onChange,name:a,color:"primary"}),label:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"}),i.a.createElement("br",null)):"",i.a.createElement(D.a,{name:a,value:o,size:"large",onChange:r}),void 0!==typeof c&&c.hasTextInput?i.a.createElement(k.a,{name:a,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:c.saveComment}):"")),i.a.createElement("br",null))},T=n(71),N=n(72),q=JSON.parse(Object(T.decode)(window.survey)),L=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onUpdateUser=function(t){e.setState({user:t.target.value})},e.onUserClick=function(){var t,n=[],a=Object(l.a)(q.items);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.push({id:i.id,answer:null,comment:"",type:i.type,isFinished:"text"===i.type,checkBoxChecked:!1})}}catch(o){a.e(o)}finally{a.f()}e.state.user.length>0&&e.setState({openLoginPage:!1,items:n})},e.onRadioRatingChange=function(t){var n=Object.assign([],e.state.items),a=n.findIndex((function(e){return e.id===t.target.name}));n[a].answer=t.target.value,n[a].isFinished=!0,e.setState({items:n})},e.onCommentChange=function(t){var n=Object.assign([],e.state.items),a=n.findIndex((function(e){return e.id===t.target.name}));n[a].comment=t.target.value,e.setState({items:n})},e.onCheckBoxChange=function(t){var n=Object.assign([],e.state.items),a=n.findIndex((function(e){return e.id===t.target.name}));n[a].checkBoxChecked=t.target.checked,e.setState({items:n})},e.onSubmit=function(t){if(t.preventDefault(),e.state.items.every((function(e){return e.isFinished||e.checkBoxChecked}))){var n="/id="+q.id,a={surveyId:q.id,items:e.state.items,user:e.state.user,isFinished:!0};Object(N.post)(n,a,{headers:{"content-type":"application/json"}}).then((function(e){console.log(e.data),window.location="/answer"})).catch((function(e){console.log(e)}))}else e.setState({openNotFinished:!0})},e.setClose=function(){e.setState({openNotFinished:!1})},e.state={items:[],openNotFinished:!1,openLoginPage:!0,user:""},e.onRadioRatingChange=e.onRadioRatingChange.bind(Object(d.a)(e)),e.onSubmit=e.onSubmit.bind(Object(d.a)(e)),e.setClose=e.setClose.bind(Object(d.a)(e)),e.onUpdateUser=e.onUpdateUser.bind(Object(d.a)(e)),e.onUserClick=e.onUserClick.bind(Object(d.a)(e)),e.onCommentChange=e.onCommentChange.bind(Object(d.a)(e)),e.onCheckBoxChange=e.onCheckBoxChange.bind(Object(d.a)(e)),e}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this,n=[],a=Object(l.a)(q.items);try{var o=function(){var a,o=e.value,r="single-choice"===o.type?o.choiceOpts.split("; "):[],c=[],s=Object(l.a)(r);try{for(s.s();!(a=s.n()).done;){var d=a.value;c.push(i.a.createElement(p.a,{value:d,control:i.a.createElement(h.a,null),label:d}))}}catch(m){s.e(m)}finally{s.f()}"single-choice"===o.type&&r.length>0&&n.push(i.a.createElement(y,{title:o.id+") "+o.name,description:o.description,questionId:o.id,questionValueExpr:t.state.items.map((function(e){return e.id})).includes(o.id)?t.state.items.filter((function(e){return e.id===o.id}))[0].answer:void 0,onChangeEvent:t.onRadioRatingChange,radioOpts:c,textInput:{hasTextInput:o.addTextBox,saveComment:t.onCommentChange},checkBoxData:{addCheckBox:o.addCheckBox,isChecked:t.state.items.map((function(e){return e.id})).includes(o.id)?t.state.items.filter((function(e){return e.id===o.id}))[0].checkBoxChecked:void 0,onChange:t.onCheckBoxChange}})),"text"===o.type&&n.push(i.a.createElement(U,{title:o.id+") "+o.name,description:o.description,id:o.id,onCommentChange:t.onCommentChange})),"rating"===o.type&&n.push(i.a.createElement(R,{title:o.id+") "+o.name,description:o.description,questionId:o.id,currentValue:t.state.items.map((function(e){return e.id})).includes(o.id)?t.state.items.filter((function(e){return e.id===o.id}))[0].answer:void 0,onChangeEvent:t.onRadioRatingChange,textInput:{hasTextInput:o.addTextBox,saveComment:t.onCommentChange},checkBoxData:{addCheckBox:o.addCheckBox,isChecked:t.state.items.map((function(e){return e.id})).includes(o.id)?t.state.items.filter((function(e){return e.id===o.id}))[0].checkBoxChecked:void 0,onChange:t.onCheckBoxChange}}))};for(a.s();!(e=a.n()).done;)o()}catch(r){a.e(r)}finally{a.f()}return i.a.createElement("div",{className:"App",align:"center"},i.a.createElement(F,{openState:this.state.openLoginPage,closeEvent:this.onUserClick,title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",description:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0412\u0430\u0448 \u043b\u043e\u0433\u0438\u043d. \u0414\u0430\u043d\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0412\u0430\u0448\u0438\u043c\u0438 \u043e\u0442\u0432\u0435\u0442\u0430\u043c\u0438.",secondDescription:"",textFieldData:{id:"login",label:"\u041b\u043e\u0433\u0438\u043d",value:this.state.user,textOnChange:this.onUpdateUser,error:0===this.state.user.length},buttonOnClick:this.onUserClick,buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),i.a.createElement("br",null),i.a.createElement(O,{title:q.name,description:q.description}),i.a.createElement("br",null),i.a.createElement("div",null,n),i.a.createElement(g.a,{className:"Margin",variant:"contained",onClick:this.onSubmit,color:"primary",size:"large"},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043e\u043f\u0440\u043e\u0441"),i.a.createElement("br",null),i.a.createElement(F,{openState:this.state.openNotFinished,closeEvent:this.setClose,title:"\u041e\u043f\u0440\u043e\u0441 \u043d\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d!",description:this.state.items.length!==q.items.length||-1!==this.state.items.findIndex((function(e){return null===e.answer}))?"\u0412\u044b \u043d\u0435 \u043e\u0442\u0432\u0435\u0442\u0438\u043b\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b: "+this.state.items.filter((function(e){return!e.isFinished&&!e.checkBoxChecked})).map((function(e){return e.id})).join(", "):"",secondDescription:0===this.state.user.length?"\u041b\u043e\u0433\u0438\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d":"",textFieldData:void 0,buttonOnClick:this.setClose,buttonText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,n){},89:function(e,t,n){e.exports=n(117)},94:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.d500a907.chunk.js.map